# 임베딩 모델 비교 가이드

## 🎯 **목적**
높은 정확성이 필요한 프로젝트에서 최적의 임베딩 모델을 선택하기 위한 비교 테스트 도구입니다.

## 📊 **지원 모델**

### **OpenAI 모델**
- **text-embedding-3-small**: 1536차원, 빠름, 저렴
- **text-embedding-3-large**: 3072차원, 정확, 비쌈

### **Ollama 모델**
- **nomic-embed-text**: 768차원, 빠름, 무료
- **mxbai-embed-large**: 1024차원, 정확, 무료

## 🔧 **사용 방법**

### **1. 환경 변수 설정**
```bash
# .env.local 파일에 추가
OPENAI_API_KEY=your_openai_api_key  # OpenAI 모델 테스트용
OLLAMA_BASE_URL=http://localhost:11434
```

### **2. 디버깅 페이지 접속**
```
http://localhost:3001/debug
```

### **3. 임베딩 모델 비교 테스트 실행**
1. **테스트 쿼리 입력**: "메타 광고 정책에 대해 설명해주세요"
2. **모델 선택**: 비교할 모델들을 선택
3. **테스트 실행**: "모든 모델 테스트 실행" 버튼 클릭
4. **결과 분석**: 성능 지표 비교

## 📈 **비교 지표**

### **성능 지표**
- **차원**: 임베딩 벡터의 크기
- **처리시간**: 임베딩 생성 소요 시간
- **정확도**: 벡터 품질 점수 (0-1)
- **샘플**: 임베딩 벡터 샘플

### **비용 지표**
- **무료**: Ollama 모델
- **유료**: OpenAI 모델

### **개인정보 보호**
- **높음**: Ollama (로컬 처리)
- **보통**: OpenAI (클라우드 처리)

## 🎯 **추천 선택 기준**

### **높은 정확도가 필요한 경우**
1. **OpenAI text-embedding-3-large** (최고 정확도)
2. **Ollama mxbai-embed-large** (무료 중 최고)

### **비용 절약이 중요한 경우**
1. **Ollama mxbai-embed-large** (무료, 높은 정확도)
2. **Ollama nomic-embed-text** (무료, 빠름)

### **개인정보 보호가 중요한 경우**
1. **Ollama 모델들** (로컬 처리)
2. **OpenAI 모델들** (클라우드 처리)

## 🚀 **테스트 결과 해석**

### **정확도 점수**
- **0.8-1.0**: 매우 높음 (프로덕션 권장)
- **0.6-0.8**: 높음 (개발/테스트 적합)
- **0.4-0.6**: 보통 (기본 기능)
- **0.0-0.4**: 낮음 (사용 비권장)

### **처리 시간**
- **< 100ms**: 매우 빠름
- **100-500ms**: 빠름
- **500-1000ms**: 보통
- **> 1000ms**: 느림

## 💡 **최적화 팁**

1. **개발 단계**: Ollama 모델로 시작
2. **프로덕션**: 정확도 테스트 후 최적 모델 선택
3. **하이브리드**: 개발용 Ollama + 프로덕션용 OpenAI
4. **모니터링**: 정기적인 성능 비교 테스트

## 🔍 **문제 해결**

### **OpenAI 모델 테스트 실패**
- API 키 확인
- 네트워크 연결 확인
- 사용량 한도 확인

### **Ollama 모델 테스트 실패**
- Ollama 서버 실행 확인
- 모델 설치 확인
- 포트 11434 접근 확인

## 📝 **결론**

이 도구를 통해 프로젝트의 요구사항에 맞는 최적의 임베딩 모델을 선택할 수 있습니다. 높은 정확성이 필요한 프로젝트라면 여러 모델을 비교 테스트하여 최적의 선택을 하시기 바랍니다.
